# SaveGroupWarehouseOfItemRequest

## Назначение класса валидации

Класс `SaveGroupWarehouseOfItemRequest` предназначен для валидации запросов на
создание групповой записи о хранении товаров на складе. Этот класс используется
для добавления на склад однотипных товаров с одинаковыми параметрами (материал,
ширина, высота) в указанном количестве.

## Правила авторизации (метод authorize)

```php
public function authorize(): bool
{
    return true;
}
```

- Все авторизованные пользователи имеют право выполнять данный запрос
- Дополнительные проверки авторизации не требуются

## Правила валидации (метод rules)

```php
public function rules(): array
{
    return [
        'material_title' => 'required|string',
        'width' => 'required|numeric|min:1',
        'height' => 'required|numeric|min:1',
        'shelf_id' => 'required|integer|exists:shelves,id',
        'quantity' => 'required|numeric|min:1',
    ];
}
```

### Поля валидации:

- **`material_title`** - Название материала
    - `required` - Поле обязательно для заполнения
    - `string` - Должно быть строкой

- **`width`** - Ширина материала
    - `required` - Поле обязательно для заполнения
    - `numeric` - Должно быть числом
    - `min:1` - Минимальное значение - 1

- **`height`** - Высота материала
    - `required` - Поле обязательно для заполнения
    - `numeric` - Должно быть числом
    - `min:1` - Минимальное значение - 1

- **`shelf_id`** - ID полки хранения
    - `required` - Поле обязательно для заполнения
    - `integer` - Должно быть целым числом
    - `exists:shelves,id` - Полка должна существовать в таблице `shelves`

- **`quantity`** - Количество товара
    - `required` - Поле обязательно для заполнения
    - `numeric` - Должно быть числом
    - `min:1` - Минимальное значение - 1

## Кастомные сообщения об ошибках (метод messages)

```php
public function messages(): array
{
    return [
        'material_title.required' => 'Укажите материал',
        'width.required' => 'Укажите ширину',
        'height.required' => 'Укажите высоту',
        'shelf_id.required' => 'Выберите полку',
        'quantity.required' => 'Укажите количество',
        'quantity.min' => 'Количество должно быть больше нуля',
    ];
}
```

## Кастомные атрибуты (метод attributes)

В данном классе метод `attributes` не определен.

## Особенности валидации

1. **Уникальный подход** - В отличие от других Request классов, здесь
   используется `material_title` вместо `material_id`, что позволяет создавать
   новые материалы на лету

2. **Геометрические параметры** - Обязательные поля `width` и `height` с
   минимальным значением 1, что соответствует специфики хранения листовых или
   рулонных материалов

3. **Связь с полкой** - Обязательная привязка к конкретной полке хранения с
   проверкой существования

4. **Положительные значения** - Все числовые параметры (ширина, высота,
   количество) должны быть больше 0

5. **Отсутствие ограничений** - Наименование материала не имеет ограничений по
   длине, что позволяет использовать детальные описания

## Используемые в контроллерах

Данный Form Request используется в контроллере управления складом для группового
добавления однотипных товаров:

```php
// Пример использования в контроллере
public function store(SaveGroupWarehouseOfItemRequest $request)
{
    $validated = $request->validated();

    // Логика создания групповой записи на складе
    $warehouseItem = new WarehouseItem();
    $warehouseItem->material_title = $validated['material_title'];
    $warehouseItem->width = $validated['width'];
    $warehouseItem->height = $validated['height'];
    $warehouseItem->shelf_id = $validated['shelf_id'];
    $warehouseItem->quantity = $validated['quantity'];
    $warehouseItem->save();

    return redirect()->route('warehouse.index');
}
```

Пример валидных данных:

```json
{
    "material_title": "Полотно атласное красное",
    "width": "150",
    "height": "200",
    "shelf_id": "5",
    "quantity": "25"
}
```

## Контекст использования

Этот класс предназначен для специфической операции - добавления на склад группы
одинаковых товаров. Подходит для:

- Добавления новых материалов, которые еще не существуют в системе
- Поступления однотипных товаров с одинаковыми параметрами
- Операций where нужно быстро добавить несколько единиц товара без детальной
  индивидуальной характеристики

Отличие от других Request классов:

- Используется `material_title` вместо ссылки на существующий материал
- Все размеры являются обязательными полями
- Нет поддержки массивов данных - операция для одной группы товаров за раз
- Простая структура без дополнительных полей типа комментариев
