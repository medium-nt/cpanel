# UpdateMovementMaterialFromSupplierRequest

## Назначение класса валидации

Класс `UpdateMovementMaterialFromSupplierRequest` используется для валидации
запросов на обновление информации о движении материалов от поставщика. Основная
задача - проверка корректности обновления цен для уже существующих перемещенных
материалов.

## Правила авторизации (метод authorize)

```php
public function authorize(): bool
{
    return true;
}
```

- Все авторизованные пользователи имеют право выполнять данный запрос
- Авторизация не требует дополнительных проверок

## Правила валидации (метод rules)

```php
public function rules(): array
{
    return [
        'id.*' => 'required|exists:movement_materials,id',
        'price.*' => 'required|numeric|min:0.01',
    ];
}
```

### Поля валидации:

- **`id.*`** - Массив идентификаторов движений материалов
    - `required` - Поле обязательно для заполнения
    - `exists:movement_materials,id` - Значение должно существовать в таблице
      `movement_materials`

- **`price.*`** - Массив новых цен для материалов
    - `required` - Поле обязательно для заполнения
    - `numeric` - Значение должно быть числом
    - `min:0.01` - Минимальное значение - 0.01

## Кастомные сообщения об ошибках (метод messages)

```php
public function messages(): array
{
    return [
        'id.*.required' => 'Материал обязателен.',
        'id.*.exists' => 'Такой материал не найден.',
        'price.*.required' => 'Цена должна быть обязательно.',
        'price.*.numeric' => 'Цена должна быть числом.',
        'price.*.min' => 'Цена должна быть больше нуля.',
    ];
}
```

## Кастомные атрибуты (метод attributes)

В данном классе метод `attributes` не определен.

## Особенности валидации

1. **Массивная валидация** - Класс ожидает получение массивов данных для
   массового обновления
2. **Синхронизация массивов** - Предполагается, что количество элементов в
   массивах `id` и `price` должно совпадать
3. **Проверка существования** - Каждый идентификатор материала проверяется на
   существование в базе данных
4. **Ограничение на минимальную цену** - Цена не может быть меньше 0.01, что
   предотвращает установку нулевых или отрицательных цен

## Используемые в контроллерах

Данный Form Request используется в контроллерах, ответственных за обновление цен
материалов от поставщиков. Типичный сценарий использования - массовое обновление
цен для нескольких материалов одновременно.

```php
// Пример использования в контроллере
public function update(UpdateMovementMaterialFromSupplierRequest $request)
{
    $validated = $request->validated();
    // Логика обновления цен для материалов
}
```
